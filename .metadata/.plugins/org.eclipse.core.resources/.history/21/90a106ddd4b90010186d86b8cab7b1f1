package com.zozofood.builder;

import org.springframework.security.crypto.password.PasswordEncoder;

import com.zozofood.dto.UserRequestDto;
import com.zozofood.dto.UserResponseDto;
import com.zozofood.entity.User;

import lombok.AllArgsConstructor;

@AllArgsConstructor
public class UserBuilder {

	private final static PasswordEncoder passwordencoder;
	
	public static UserResponseDto toUserResponseDto(User user) {
		return UserResponseDto.builder()
				.userId(user.getUserId())
				.userName(user.getUsername())
				.email(user.getEmail())
				.address(user.getAddress())
				.roles(user.getRoles())
				.isActive(user.isActive())
				.build();
		
	}
	
	
	public static User toUserEntity(UserRequestDto requestDto) {
		return User.builder()
				.userId(requestDto.getUserId())
				.userName(requestDto.getUserName())
				.email(requestDto.getEmail())
				.password(passwordencoder.encode(requestDto.getPassword()))
				.address(requestDto.getAddress())
				.roles(requestDto.getRoles())
				.isActive(requestDto.isActive())
				.build();
	}
}
