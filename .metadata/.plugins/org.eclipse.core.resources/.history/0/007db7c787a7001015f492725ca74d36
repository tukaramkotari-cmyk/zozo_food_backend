package com.zozofood.service;

import java.util.ArrayList;
import java.util.List;

import org.springframework.stereotype.Service;

import com.zozofood.builder.CreateItemRequestBuilder;
import com.zozofood.dao.ItemRepository;
import com.zozofood.dao.RestaurantRepository;
import com.zozofood.dto.CreateItemRequestDTO;
import com.zozofood.dto.ItemResponseDto;
import com.zozofood.model.Item;
import com.zozofood.model.Restaurant;

@Service
public class ItemServiceImp implements ItemService {
	
	private final ItemRepository itemRepository;
	private final RestaurantRepository restaurantRepository;
	
	public ItemServiceImp(ItemRepository itemRepository, RestaurantRepository restaurantRepository) {
		this.itemRepository = itemRepository;
		this.restaurantRepository = restaurantRepository;
	}
	
	@Override
	public List<ItemResponseDto> getItemsByRestaurantId(Long restaurantId) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public void addItemByRestaurantId(Long restaurantId, List<CreateItemRequestDTO> itemRequestDtoList) {
		Restaurant restaurant = restaurantRepository.findById(restaurantId).orElseThrow(() -> new RestaurantNotFoundException("Restaurant with id " + restaurantId  + " not found"));
		if(restaurant != null) {
			itemRepository.saveAll(CreateItemRequestBuilder.buildItemFromCreateItemRequestDTO(itemRequestDtoList));
			}
		}
		
		
		
	}

}
	


	
